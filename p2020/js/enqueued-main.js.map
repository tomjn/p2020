{"version":3,"sources":["init.js","mobile-menu.js","p2tenberg.js","polyfills-nonblocking.js","unfiltered-home.js"],"names":["$","hasClass","addClass","jQuery","moveNavIntoSidebar","$menu","length","parents","prependTo","wrap","moveNavOutOfSidebar","appendTo","remove","document","ready","click","toggleClass","enquire","register","match","unmatch","enableFixedToolbarByDefault","rawSettings","window","localStorage","getItem","settings","JSON","parse","fixedToolbar","undefined","setItem","stringify","subscribeToCommentsOnNewPostsByDefault","prop","hide","getScript","Modernizr","focuswithin","location","pathname","search"],"mappings":"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","file":"enqueued-main.js","sourcesContent":["( function( $ ) {\n\t// Only do this once\n\tif ( $( 'body' ).hasClass( 'p2020-js-loaded' ) ) {\n\t\treturn;\n\t}\n\n\t$( 'body' ).addClass( 'p2020-js-loaded' );\n} )( jQuery );\n","// TODO: Test and clean up for P2020\n\n( function( $ ) {\n\tfunction moveNavIntoSidebar() {\n\t\tconst $menu = $( 'nav#site-navigation' );\n\t\tif ( $menu.length && $menu.parents( 'header#masthead' ).length ) {\n\t\t\t$menu.prependTo( '#sidebar' );\n\t\t\t$menu.wrap(\n\t\t\t\t'<aside class=\"widget\" id=\"o2-responsive-nav\"></aside>'\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction moveNavOutOfSidebar() {\n\t\tconst $menu = $( 'nav#site-navigation' );\n\t\tif ( $menu.length && 0 === $menu.parents( 'header#masthead' ).length ) {\n\t\t\t$( 'nav#site-navigation' ).appendTo( 'header#masthead' );\n\t\t\t$( '#o2-responsive-nav' ).remove();\n\t\t}\n\t}\n\n\t$( document ).ready( function() {\n\t\t$( '[data-mobile-menu-toggle]' ).click( function() {\n\t\t\t$( 'body' ).toggleClass( 'mobile-menu-is-visible' );\n\t\t} );\n\n\t\tif ( 'undefined' !== typeof enquire ) {\n\t\t\t// \"Tablet\" max-width also defined in css/src/global/_variables.scss\n\t\t\tenquire.register( 'screen and (max-width:876px)', {\n\t\t\t\tmatch() {\n\t\t\t\t\tmoveNavIntoSidebar();\n\t\t\t\t},\n\n\t\t\t\tunmatch() {\n\t\t\t\t\tmoveNavOutOfSidebar();\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\t} );\n} )( jQuery );\n","( function( $ ) {\n\t// Enable the fixed toolbar feature if not explicitly disabled\n\tfunction enableFixedToolbarByDefault() {\n\t\tconst rawSettings = window.localStorage.getItem( 'p2tenberg_features' );\n\t\tconst settings = rawSettings ? JSON.parse( rawSettings ) : {};\n\n\t\tif ( settings.fixedToolbar === undefined ) {\n\t\t\twindow.localStorage.setItem(\n\t\t\t\t'p2tenberg_features',\n\t\t\t\tJSON.stringify( {\n\t\t\t\t\t...settings,\n\t\t\t\t\tfixedToolbar: true,\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\t}\n\n\t// Enable \"Notify me of new comments via email\" on new posts by default and hide the form\n\tfunction subscribeToCommentsOnNewPostsByDefault() {\n\t\t$( 'input[type=\"checkbox\"]#post_subscribe' ).prop( 'checked', true );\n\t\t$( '.o2-post-form-options' ).hide();\n\t}\n\n\t// No need to wait for document ready\n\tenableFixedToolbarByDefault();\n\n\t$( document ).ready( () => {\n\t\tsubscribeToCommentsOnNewPostsByDefault();\n\t} );\n} )( jQuery );\n","// Polyfills for things that don't need to block the rest of the JS\n\n( function( $ ) {\n\t$( document ).ready( () => {\n\t\t// CSS :focus-visible\n\t\t$.getScript( 'https://unpkg.com/focus-visible' );\n\n\t\t// CSS :focus-within\n\t\tif ( ! Modernizr.focuswithin ) {\n\t\t\t$.getScript( 'https://unpkg.com/focus-within-polyfill' );\n\t\t}\n\t} );\n} )( jQuery );\n","( function( $ ) {\n\t$( document ).ready( function() {\n\t\t// Is home page and not displaying O2 filtered content\n\t\tif (\n\t\t\twindow.location.pathname === '/' &&\n\t\t\twindow.location.search === ''\n\t\t) {\n\t\t\t$( '.o2-app-page-title' ).addClass( 'is-unfiltered-home' );\n\t\t}\n\t} );\n} )( jQuery );\n"]}